# フォームの管理

新しいフォームビューにより、フォームを作成したり、ユーザーから収集したいフィールドをアタッチしたりできます。フィールド作成後、ユーザーが情報送信後に実行させたいアクションを定義することができます。

### フォーム概要

フォーム概要では、ある一定期間にわたって受け取った情報の簡単な概要を提供し、特定のフォームがどの程度成功しているのかを簡単に分析します。フォーム概要の下では特定のフォームの一部として含まれるフィールドやアクションのあらましを説明しています。

### フォームフィールド

フォームには必要な数だけフィールドを含めることができます。これらのフィールドはシステムにより動的に配置したり、詳細なコントロールがひつようであればHTML経由で扱ったりできます。

![](/forms/media/new-form.jpg)

### フォームアクション

フォームアクションとは、フォームの送信時に扱われるアイテムです。各送信時に実行するアクションを複数定義することができます。

![](/forms/media/form-actions.jpg)

#### フォームでのコンタクトの作成と更新 ####

フォームでコンタクトを作成もしくは更新するには(更新するにはメールアドレスがマッチしている必要があります)、コンタクト作成/更新サブミットアクションを追加します。**注意: このアクションは最初に置く必要があります。そうすることによりそのコンタクトの詳細がその後のアクションで利用可能になるからです。** リストに追加したりインテグレーションにプッシュしたりする前にそのコンタクトが作成もしくは更新されている必要があることに留意してください。

### キオスクモード

このキオスクモードは、複数のコンタクトから一つのデバイスでサブミットされる場合に便利です。例えば、カンファレンスでのキオスクのようなものです。キオスクモードがオンになると、サブミッションごとに新しいコンタクトを作成します。キオスクモードがオフになると、Mauticはカレントセッションに属しているコンタクトを編集します。

### フォーム挿入

フォームを利用するには3つの方法があります。出力全体をコピー、もしくは提供されているJavaScriptを使用して動的にフォームを挿入可能です。これら2つの方法はページにフォームを直接含めさせることができます。また、別の方法としては、お好みでMauticのランディングページに直接フォームを埋め込むことも可能です。

![](http://drop.dbh.li/image/2M1q3T2T0Z0u/Image%202014-11-17%20at%204.20.56%20PM.png)

** 挿入コードを2回ペーストするのはおすすめしません。必須フィールドが空で送られた時にトラブルになる可能性があるためです。 **

### フォーム結果

フォーム概要ページ上で右上の結果ボタンをクリックすると、すべてのフォーム送信を表形式で閲覧できます。これらの結果は各カラムのヘッダーで簡単にフィルタリングしたりソートしたりできます。

### フォームプレビュー

フォームプレビューはそのフォームがどのように見えるのかをポップアップでプレビュー表示します。フォームのスタイルはその外側のページやウェブサイトコンテンツによってコントロールされ、その時のプレビューの表示と最終的なレイアウトは違ってくることがありますのでご注意ください。

### フォームフィールの値の自動入力

URLのクエリーパラメータからのフォームの値を自動入力することが可能です。

コンタクトのフィールドのエイリアスは、コンタクト -> フィールド管理の閲覧時にテーブルから取得することができます。フォームのフィールド名はデータベースにエイリアスとして保存され、フィールドラベルから自動的に生成されますが、正確な名称はソースを確認する必要のある場合もあります(フォームを開いてプレビューボタンをクリックします)。例えば、これはフォームからのhtmlセクションのサンプルです。利用するためのこの名称は `mauticform[FIELDNAME]` 内にあるものです。

```
<div class="mauticform-row mauticform-email mauticform-row-email" id="mauticform_email">
    <label id="mauticform_label_email" for="mauticform_input_email" class="mauticform-label" "="">Email</label>
    <input id="mauticform_input_email" name="mauticform[email]" value="" class="mauticform-input" type="email">
</div>
```

#### メール内から値を自動入力する

フォームに自動入力させたいコンタクトの特定の情報ごとにトークン {leadfield=FIELDALIAS|true} をURLに埋め込み、それらをフォームフィールド名に割り当てます。 |true はMauticに値をURLエンコードするよう命令し、それによりブラウザーでも動作します。
```
{pagelink=1}&email={leadfield=email|true}
```
コンタクトに送信されるレンダリングされたメールでは、URLは次のように変換されます:
```
http://my-mautic.com/my-landing-page?ct=A_REALLY_LONG_STRING&email=contactemail%40gmail.com
```
 `{pagelink=1}` 内がランディングページのURLに変換され、`?ct=A_REALLY_LONG_STRING` が付加されます。実際の長い文字列ではコンタクトIDを含んだコンタクトについてのエンコードされた情報になります。コンタクトがそのリンクをクリックすると埋め込まれたフォームとともにランディングページを開き、そのフォームの 'email' 入力がそのURLを通して渡される値として自動的に入力されます。
